<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="style.css" />
    <title>Assignment</title>
  </head>

  <body>
    <header>
      <div class="site-title">
        <h1>Thou art here</h1>
        <p class="subtitle">Welcome to those who arrived</p>
      </div>
      <nav>
        <ul class="nav-list">
          <li class="nav-ele ele1"><a href="./index.html">Home</a></li>
          <li class="nav-ele"><mark>|</mark></li>
          <li class="nav-ele ele2"><a href="#">Projects</a></li>
        </ul>
      </nav>
    </header>

    <div class="container">
      <h2 class="ch2">Assignment</h2>
      <p class="edup">
        This Assignment covers the topic of creating a basic 64-bit Operating
        System kernal to display some text.
      </p>
      <h3>Tools used</h3>
      <ul class="ass-ul">
        <li>VS Code</li>
        <li>Docker</li>
        <li>Qemu</li>
      </ul>
      <h3>Hierarchy</h3>
      <ul class="ass-ul">
        <li>
          buildenv
          <ul>
            <li class="file">Dockerfile</li>
          </ul>
        </li>
        <li>
          src
          <ul>
            <li>
              interface
              <ul>
                <li class="file">print.h</li>
              </ul>
            </li>
            <li>
              implementation
              <ul>
                <li>
                  kernel
                  <ul>
                    <li class="file">main.c</li>
                  </ul>
                </li>
                <li>
                  x86_64
                  <ul>
                    <li class="file">print.c</li>
                    <li>
                      boot
                      <ul>
                        <li class="file">header.asm</li>
                        <li class="file">main.asm</li>
                        <li class="file">main64.asm</li>
                      </ul>
                    </li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li>
          targets
          <ul>
            <li>
              x86_64
              <ul>
                <li class="file">linker.ld</li>
                <li>
                  iso
                  <ul>
                    <li>
                      boot
                      <ul>
                        <li>
                          grub
                          <ul>
                            <li class="file">grub.cfg</li>
                          </ul>
                        </li>
                      </ul>
                    </li>
                    <li class="file">.gitignore</li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
        <li class="file">Makefile</li>
      </ul>
      <h2 class="ch2">Working</h2>
      <h3>Dockerfile</h3>
      <p class="edup">
        This file is used to install the packages by making a container in
        Docker. These packages are used to make a reproducable build environment
        of our kernal
      </p>
      <p class="edup edp">
        FROM randomdude/gcc-cross-x86_64-elf RUN apt-get update <br />
        RUN apt-get upgrade -y <br />
        RUN apt-get install -y nasm <br />
        RUN apt-get install -y xorriso <br />
        RUN apt-get install -y grub-pc-bin <br />
        RUN apt-get install -y grub-common <br />
        <br />
        VOLUME /root/env <br />
        WORKDIR /root/env
      </p>
      <h3>Main.asm</h3>
      <p class="edup edp">
        This is the main assembly file containing the code for the operating
        system
      </p>
      <h3>Main64.asm</h3>
      <p class="edup edp">This file boots up the OS in 64 bit mode</p>
      <h3>Header.asm</h3>
      <p class="edup edp">
        This file contains the information for bootloader. Bootloader locates
        the operating system. Without this file the OS is not loaded
      </p>
      <h3>Linker.ld</h3>
      <p class="edup edp">
        This file links the different parts of code together
      </p>
      <h3>Makefile</h3>
      <p class="edup edp">
        The Makefile file is used so that the updated/modified bits of OS are
        rebuilt everytime instead of the whole thing
      </p>
      <h3>Main.c</h3>
      <p class="edup edp">
        This file contains all the functions that handle the text to be
        displayed on screen
      </p>
      <h3>Print.h</h3>
      <p class="edup edp">
        This file contains all the functions from main.c so they can be exported
        to other files
      </p>
      <h3>Print.c</h3>
      <p class="edup edp">This file controls the printed text on the screen</p>
      <h3>Commands Used</h3>
      <p class="edup">
        These commands are run on powershell. The 3rd one is run on Docker
        environment.
      </p>
      <ul class="ass-ul">
        <li>docker build buildenv -t myos-buildenv</li>
        <li>docker run --rm -it -v "${pwd}:/root/env" myos-buildenv</li>
        <li>make build-x86_64</li>
        <li>qemu-system-x86_64 -cdrom dist/x86_64/kernel.iso</li>
      </ul>
      <h3>Errors Encountered</h3>
      <p class="edup edp">
        The only error encountered in the making of this project was related to
        QEMU on the command. <br />
        <br />
        qemu-system-x86_64 -cdrom dist/x86_64/kernel.iso <br />
        <br />
        Qemu did not emulate and the reason was it not being in the environment
        variables path
      </p>
      <h3 style="text-align: center; background-color: rgb(35, 97, 97)">
        Output
      </h3>
      <img src="images/cao-out.jpg" alt="#" style="width: 100%" />
      <br />
      <br />
      <div class="pname">
        <img src="images/github.png" alt="#" class="git" />
        <p style="margin: 2.25em; padding-left: 1.25em">
          <a href="https://github.com/GithubNoman/OS64bit"
            >https://github.com/GithubNoman/OS64bit</a
          >
        </p>
      </div>
    </div>
  </body>
</html>
